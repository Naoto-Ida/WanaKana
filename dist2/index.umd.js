(function(f,N){typeof exports=="object"&&typeof module<"u"?N(exports):typeof define=="function"&&define.amd?define(["exports"],N):(f=typeof globalThis<"u"?globalThis:f||self,N(f.index={}))})(this,function(f){"use strict";function N(e){return e===null?"null":e!==Object(e)?typeof e:{}.toString.call(e).slice(8,-1).toLowerCase()}function E(e){return N(e)!=="string"?!0:!e.length}function d(e="",t,n){if(E(e))return!1;const u=e.charCodeAt(0);return t<=u&&u<=n}const Ke="5.0.2",U={HIRAGANA:"toHiragana",KATAKANA:"toKatakana"},L={HEPBURN:"hepburn"},je={useObsoleteKana:!1,passRomaji:!1,upcaseKatakana:!1,IMEMode:!1,convertLongVowelMark:!0,romanization:L.HEPBURN},_e=65,Re=90,ye=65345,me=65370,Ie=65313,ve=65338,F=12353,Me=12438,b=12449,Ue=12540,Le=19968,Fe=40879,be=12540,we=12539,ke=[65296,65305],Pe=[Ie,ve],De=[ye,me],Je=[65281,65295],Be=[65306,65311],He=[65339,65343],ze=[65371,65376],$e=[65504,65518],Ge=[12352,12447],We=[12448,12543],Ze=[65382,65439],Ye=[12539,12540],V=[65377,65381],Ve=[12288,12351],qe=[19968,40959],Xe=[13312,19903],Qe=[Ge,We,V,Ze],q=[Ve,V,Ye,Je,Be,He,ze,$e],xe=[...Qe,...q,Pe,De,ke,qe,Xe],et=[0,127],tt=[[256,257],[274,275],[298,299],[332,333],[362,363]],nt=[[8216,8217],[8220,8221]],ut=[et,...tt],ot=[[32,47],[58,63],[91,96],[123,126],...nt];function w(e=""){return xe.some(([t,n])=>d(e,t,n))}function h(e="",t){const n=N(t)==="regexp";return E(e)?!1:[...e].every(u=>{const o=w(u);return n?o||t.test(u):o})}var X=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function st(e,t){return!!(e===t||X(e)&&X(t))}function rt(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!st(e[n],t[n]))return!1;return!0}function Q(e,t){t===void 0&&(t=rt);var n=null;function u(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var r=e.apply(this,o);return n={lastResult:r,lastArgs:o,lastThis:this},r}return u.clear=function(){n=null},u}var x=Object.prototype.hasOwnProperty;function ee(e,t,n){for(n of e.keys())if(g(n,t))return n}function g(e,t){var n,u,o;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((u=e.length)===t.length)for(;u--&&g(e[u],t[u]););return u===-1}if(n===Set){if(e.size!==t.size)return!1;for(u of e)if(o=u,o&&typeof o=="object"&&(o=ee(t,o),!o)||!t.has(o))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(u of e)if(o=u[0],o&&typeof o=="object"&&(o=ee(t,o),!o)||!g(u[1],t.get(o)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((u=e.byteLength)===t.byteLength)for(;u--&&e.getInt8(u)===t.getInt8(u););return u===-1}if(ArrayBuffer.isView(e)){if((u=e.byteLength)===t.byteLength)for(;u--&&e[u]===t[u];);return u===-1}if(!n||typeof e=="object"){u=0;for(n in e)if(x.call(e,n)&&++u&&!x.call(t,n)||!(n in t)||!g(e[n],t[n]))return!1;return Object.keys(t).length===u}}return e!==e&&t!==t}const C=(e={})=>Object.assign({},je,e);function te(e,t,n){const u=t;function o(i,a){if(i[a]!==void 0)return Object.assign({"":i[""]+a},i[a])}function s(i,a){const c=i.charAt(0);return r(Object.assign({"":c},u[c]),i.slice(1),a,a+1)}function r(i,a,c,l){if(!a)return n||Object.keys(i).length===1?i[""]?[[c,l,i[""]]]:[]:[[c,l,null]];if(Object.keys(i).length===1)return[[c,l,i[""]]].concat(s(a,l));const A=o(i,a.charAt(0));return A===void 0?[[c,l,i[""]]].concat(s(a,l)):r(A,a.slice(1),c,l+1)}return s(e,0)}function k(e){return Object.entries(e).reduce((t,[n,u])=>{const o=N(u)==="string";return t[n]=o?{"":u}:k(u),t},{})}function ne(e,t){return t.split("").reduce((n,u)=>(n[u]===void 0&&(n[u]={}),n[u]),e)}function ue(e={}){const t={};return N(e)==="object"&&Object.entries(e).forEach(([n,u])=>{let o=t;n.split("").forEach(s=>{o[s]===void 0&&(o[s]={}),o=o[s]}),o[""]=u}),function(u){const o=JSON.parse(JSON.stringify(u));function s(r,i){return r===void 0||N(r)==="string"?i:Object.entries(i).reduce((a,[c,l])=>(a[c]=s(r[c],l),a),r)}return s(o,t)}}function oe(e,t){return t?N(t)==="function"?t(e):ue(t)(e):e}const it={a:"\u3042",i:"\u3044",u:"\u3046",e:"\u3048",o:"\u304A",k:{a:"\u304B",i:"\u304D",u:"\u304F",e:"\u3051",o:"\u3053"},s:{a:"\u3055",i:"\u3057",u:"\u3059",e:"\u305B",o:"\u305D"},t:{a:"\u305F",i:"\u3061",u:"\u3064",e:"\u3066",o:"\u3068"},n:{a:"\u306A",i:"\u306B",u:"\u306C",e:"\u306D",o:"\u306E"},h:{a:"\u306F",i:"\u3072",u:"\u3075",e:"\u3078",o:"\u307B"},m:{a:"\u307E",i:"\u307F",u:"\u3080",e:"\u3081",o:"\u3082"},y:{a:"\u3084",u:"\u3086",o:"\u3088"},r:{a:"\u3089",i:"\u308A",u:"\u308B",e:"\u308C",o:"\u308D"},w:{a:"\u308F",i:"\u3090",e:"\u3091",o:"\u3092"},g:{a:"\u304C",i:"\u304E",u:"\u3050",e:"\u3052",o:"\u3054"},z:{a:"\u3056",i:"\u3058",u:"\u305A",e:"\u305C",o:"\u305E"},d:{a:"\u3060",i:"\u3062",u:"\u3065",e:"\u3067",o:"\u3069"},b:{a:"\u3070",i:"\u3073",u:"\u3076",e:"\u3079",o:"\u307C"},p:{a:"\u3071",i:"\u3074",u:"\u3077",e:"\u307A",o:"\u307D"},v:{a:"\u3094\u3041",i:"\u3094\u3043",u:"\u3094",e:"\u3094\u3047",o:"\u3094\u3049"}},at={".":"\u3002",",":"\u3001",":":"\uFF1A","/":"\u30FB","!":"\uFF01","?":"\uFF1F","~":"\u301C","-":"\u30FC","\u2018":"\u300C","\u2019":"\u300D","\u201C":"\u300E","\u201D":"\u300F","[":"\uFF3B","]":"\uFF3D","(":"\uFF08",")":"\uFF09","{":"\uFF5B","}":"\uFF5D"},se={k:"\u304D",s:"\u3057",t:"\u3061",n:"\u306B",h:"\u3072",m:"\u307F",r:"\u308A",g:"\u304E",z:"\u3058",d:"\u3062",b:"\u3073",p:"\u3074",v:"\u3094",q:"\u304F",f:"\u3075"},re={ya:"\u3083",yi:"\u3043",yu:"\u3085",ye:"\u3047",yo:"\u3087"},ie={a:"\u3041",i:"\u3043",u:"\u3045",e:"\u3047",o:"\u3049"},ae={sh:"sy",ch:"ty",cy:"ty",chy:"ty",shy:"sy",j:"zy",jy:"zy",shi:"si",chi:"ti",tsu:"tu",ji:"zi",fu:"hu"},ct=Object.assign({tu:"\u3063",wa:"\u308E",ka:"\u30F5",ke:"\u30F6"},ie,re),ft={yi:"\u3044",wu:"\u3046",ye:"\u3044\u3047",wi:"\u3046\u3043",we:"\u3046\u3047",kwa:"\u304F\u3041",whu:"\u3046",tha:"\u3066\u3083",thu:"\u3066\u3085",tho:"\u3066\u3087",dha:"\u3067\u3083",dhu:"\u3067\u3085",dho:"\u3067\u3087"},At={wh:"\u3046",kw:"\u304F",qw:"\u304F",q:"\u304F",gw:"\u3050",sw:"\u3059",ts:"\u3064",th:"\u3066",tw:"\u3068",dh:"\u3067",dw:"\u3069",fw:"\u3075",f:"\u3075"};function lt(){const e=k(it),t=o=>ne(e,o);Object.entries(se).forEach(([o,s])=>{Object.entries(re).forEach(([r,i])=>{t(o+r)[""]=s+i})}),Object.entries(at).forEach(([o,s])=>{t(o)[""]=s}),Object.entries(At).forEach(([o,s])=>{Object.entries(ie).forEach(([r,i])=>{const a=t(o+r);a[""]=s+i})}),["n","n'","xn"].forEach(o=>{t(o)[""]="\u3093"}),e.c=JSON.parse(JSON.stringify(e.k)),Object.entries(ae).forEach(([o,s])=>{const r=o.slice(0,o.length-1),i=o.charAt(o.length-1),a=t(r);a[i]=JSON.parse(JSON.stringify(t(s)))});function n(o){return[...Object.entries(ae),["c","k"]].reduce((s,[r,i])=>o.startsWith(i)?s.concat(o.replace(i,r)):s,[])}Object.entries(ct).forEach(([o,s])=>{const r=A=>A.charAt(A.length-1),i=A=>A.slice(0,A.length-1),a=`x${o}`,c=t(a);c[""]=s;const l=t(`l${i(o)}`);l[r(o)]=c,n(o).forEach(A=>{["l","x"].forEach(O=>{const tn=t(O+i(A));tn[r(A)]=t(O+o)})})}),Object.entries(ft).forEach(([o,s])=>{t(o)[""]=s});function u(o){return Object.entries(o).reduce((s,[r,i])=>(r?s[r]=u(i):s[r]=`\u3063${i}`,s),{})}return[...Object.keys(se),"c","y","w","j"].forEach(o=>{const s=e[o];s[o]=u(s)}),delete e.n.n,Object.freeze(JSON.parse(JSON.stringify(e)))}let P=null;function Et(){return P==null&&(P=lt()),P}const Nt=ue({wi:"\u3090",we:"\u3091"});function dt(e){const t=JSON.parse(JSON.stringify(e));return t.n.n={"":"\u3093"},t.n[" "]={"":"\u3093"},t}function Ot(e=""){return E(e)?!1:d(e,_e,Re)}function S(e=""){return E(e)?!1:e.charCodeAt(0)===be}function ce(e=""){return E(e)?!1:e.charCodeAt(0)===we}function _(e=""){return E(e)?!1:S(e)?!0:d(e,F,Me)}function R(e=""){const t=[];return e.split("").forEach(n=>{if(S(n)||ce(n))t.push(n);else if(_(n)){const u=n.charCodeAt(0)+(b-F),o=String.fromCharCode(u);t.push(o)}else t.push(n)}),t.join("")}const D=Q((e,t,n)=>{let u=Et();return u=e?dt(u):u,u=t?Nt(u):u,n&&(u=oe(u,n)),u},g);function T(e="",t={},n){let u;return n?u=t:(u=C(t),n=D(u.IMEMode,u.useObsoleteKana,u.customKanaMapping)),ht(e,u,n).map(o=>{const[s,r,i]=o;if(i===null)return e.slice(s);const a=u.IMEMode===U.HIRAGANA,c=u.IMEMode===U.KATAKANA||[...e.slice(s,r)].every(Ot);return a||!c?i:R(i)}).join("")}function ht(e="",t={},n){const{IMEMode:u,useObsoleteKana:o,customKanaMapping:s}=t;return n||(n=D(u,o,s)),te(e.toLowerCase(),n,!u)}let p=[];function gt(e){let t;const n=Object.assign({},C(e),{IMEMode:e.IMEMode||!0}),u=D(n.IMEMode,n.useObsoleteKana,n.customKanaMapping),o=[...Object.keys(u),...Object.keys(u).map(s=>s.toUpperCase())];return function({target:r}){r.value!==t&&r.dataset.ignoreComposition!=="true"&&Ct(r,n,u,o)}}function Ct(e,t,n,u,o){const[s,r,i]=Kt(e.value,e.selectionEnd,u),a=T(r,t,n);if(r!==a){const l=s.length+a.length,A=s+a+i;e.value=A,i.length?setTimeout(()=>e.setSelectionRange(l,l),1):e.setSelectionRange(l,l)}else e.value}function J({type:e,target:t,data:n}){/Mac/.test(window.navigator&&window.navigator.platform)&&(e==="compositionupdate"&&h(n)&&(t.dataset.ignoreComposition="true"),e==="compositionend"&&(t.dataset.ignoreComposition="false"))}function St(e,t,n){p=p.concat({id:e,inputHandler:t,compositionHandler:n})}function Tt({id:e}){p=p.filter(({id:t})=>t!==e)}function pt(e){return e&&p.find(({id:t})=>t===e.getAttribute("data-wanakana-id"))}function Kt(e="",t=0,n=[]){let u,o,s;return t===0&&n.includes(e[0])?[u,o,s]=jt(e,n):t>0?[u,o,s]=_t(e,t):([u,o]=y(e,r=>!n.includes(r)),[o,s]=y(o,r=>!h(r))),[u,o,s]}function jt(e,t){return["",...y(e,n=>t.includes(n)||!h(n,/[0-9]/))]}function _t(e="",t=0){const[n,u]=y([...e.slice(0,t)].reverse(),o=>!h(o));return[u.reverse().join(""),n.split("").reverse().join(""),e.slice(t)]}function y(e={},t=n=>!!n){const n=[],{length:u}=e;let o=0;for(;o<u&&t(e[o],o);)n.push(e[o]),o+=1;return[n.join(""),e.slice(o)]}const fe={input:({target:{value:e,selectionStart:t,selectionEnd:n}})=>console.log("input:",{value:e,selectionStart:t,selectionEnd:n}),compositionstart:()=>console.log("compositionstart"),compositionupdate:({target:{value:e,selectionStart:t,selectionEnd:n},data:u})=>console.log("compositionupdate",{data:u,value:e,selectionStart:t,selectionEnd:n}),compositionend:()=>console.log("compositionend")},Rt=e=>{Object.entries(fe).forEach(([t,n])=>e.addEventListener(t,n))},yt=e=>{Object.entries(fe).forEach(([t,n])=>e.removeEventListener(t,n))},mt=["TEXTAREA","INPUT"];let Ae=0;const It=()=>(Ae+=1,`${Date.now()}${Ae}`);function vt(e,t={},n=!1){if(!mt.includes(e.nodeName))throw new Error(`Element provided to Wanakana bind() was not a valid input or textarea element.
 Received: (${JSON.stringify(e)})`);const u=gt(t),o=It();e.setAttribute("data-wanakana-id",o),e.setAttribute("lang","ja"),e.setAttribute("autoCapitalize","none"),e.setAttribute("autoCorrect","off"),e.setAttribute("autoComplete","off"),e.setAttribute("spellCheck","false"),e.addEventListener("input",u),e.addEventListener("compositionupdate",J),e.addEventListener("compositionend",J),St(o,u,J),n===!0&&Rt(e)}function Mt(e,t=!1){const n=pt(e);if(n==null)throw new Error(`Element provided to Wanakana unbind() had no listener registered.
 Received: ${JSON.stringify(e)}`);const{inputHandler:u,compositionHandler:o}=n;e.removeAttribute("data-wanakana-id"),e.removeAttribute("data-ignore-composition"),e.removeEventListener("input",u),e.removeEventListener("compositionstart",o),e.removeEventListener("compositionupdate",o),e.removeEventListener("compositionend",o),Tt(n),t===!0&&yt(e)}function B(e=""){return E(e)?!1:ut.some(([t,n])=>d(e,t,n))}function m(e="",t){const n=N(t)==="regexp";return E(e)?!1:[...e].every(u=>{const o=B(u);return n?o||t.test(u):o})}function K(e=""){return d(e,b,Ue)}function Ut(e=""){return E(e)?!1:_(e)||K(e)}function I(e=""){return E(e)?!1:[...e].every(Ut)}function le(e=""){return E(e)?!1:[...e].every(_)}function H(e=""){return E(e)?!1:[...e].every(K)}function Ee(e=""){return d(e,Le,Fe)}function z(e=""){return E(e)?!1:[...e].every(Ee)}function $(e="",t={passKanji:!0}){const n=[...e];let u=!1;return t.passKanji||(u=n.some(z)),(n.some(le)||n.some(H))&&n.some(m)&&!u}const Lt=(e,t)=>S(e)&&t<1,Ft=(e,t)=>S(e)&&t>0,bt=e=>["\u30F6","\u30F5"].includes(e),wt={a:"\u3042",i:"\u3044",u:"\u3046",e:"\u3048",o:"\u3046"};function v(e="",t,{isDestinationRomaji:n,convertLongVowelMark:u}={}){let o="";return e.split("").reduce((s,r,i)=>{if(ce(r)||Lt(r,i)||bt(r))return s.concat(r);if(u&&o&&Ft(r,i)){const a=t(o).slice(-1);return K(e[i-1])&&a==="o"&&n?s.concat("\u304A"):s.concat(wt[a])}if(!S(r)&&K(r)){const a=r.charCodeAt(0)+(F-b),c=String.fromCharCode(a);return o=c,s.concat(c)}return o="",s.concat(r)},[]).join("")}let G;const kt={\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304A:"o",\u304B:"ka",\u304D:"ki",\u304F:"ku",\u3051:"ke",\u3053:"ko",\u3055:"sa",\u3057:"shi",\u3059:"su",\u305B:"se",\u305D:"so",\u305F:"ta",\u3061:"chi",\u3064:"tsu",\u3066:"te",\u3068:"to",\u306A:"na",\u306B:"ni",\u306C:"nu",\u306D:"ne",\u306E:"no",\u306F:"ha",\u3072:"hi",\u3075:"fu",\u3078:"he",\u307B:"ho",\u307E:"ma",\u307F:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u3089:"ra",\u308A:"ri",\u308B:"ru",\u308C:"re",\u308D:"ro",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u308F:"wa",\u3090:"wi",\u3091:"we",\u3092:"wo",\u3093:"n",\u304C:"ga",\u304E:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u3056:"za",\u3058:"ji",\u305A:"zu",\u305C:"ze",\u305E:"zo",\u3060:"da",\u3062:"ji",\u3065:"zu",\u3067:"de",\u3069:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307C:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307A:"pe",\u307D:"po",\u3094\u3041:"va",\u3094\u3043:"vi",\u3094:"vu",\u3094\u3047:"ve",\u3094\u3049:"vo"},Pt={"\u3002":".","\u3001":",","\uFF1A":":","\u30FB":"/","\uFF01":"!","\uFF1F":"?","\u301C":"~",\u30FC:"-","\u300C":"\u2018","\u300D":"\u2019","\u300E":"\u201C","\u300F":"\u201D","\uFF3B":"[","\uFF3D":"]","\uFF08":"(","\uFF09":")","\uFF5B":"{","\uFF5D":"}","\u3000":" "},Dt=["\u3042","\u3044","\u3046","\u3048","\u304A","\u3084","\u3086","\u3088"],W={\u3083:"ya",\u3085:"yu",\u3087:"yo"},Jt={\u3043:"yi",\u3047:"ye"},Bt={\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o"},Ht=["\u304D","\u306B","\u3072","\u307F","\u308A","\u304E","\u3073","\u3074","\u3094","\u304F","\u3075"],zt={\u3057:"sh",\u3061:"ch",\u3058:"j",\u3062:"j"},$t={\u3063:"",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o"},Ne={b:"b",c:"t",d:"d",f:"f",g:"g",h:"h",j:"j",k:"k",m:"m",p:"p",q:"q",r:"r",s:"s",t:"t",v:"v",w:"w",x:"x",z:"z"};function Gt(){return G==null&&(G=Zt()),G}function Wt(e){switch(e){case L.HEPBURN:return Gt();default:return{}}}function Zt(){const e=k(kt),t=u=>ne(e,u),n=(u,o)=>{t(u)[""]=o};return Object.entries(Pt).forEach(([u,o])=>{t(u)[""]=o}),[...Object.entries(W),...Object.entries(Bt)].forEach(([u,o])=>{n(u,o)}),Ht.forEach(u=>{const o=t(u)[""][0];Object.entries(W).forEach(([s,r])=>{n(u+s,o+r)}),Object.entries(Jt).forEach(([s,r])=>{n(u+s,o+r)})}),Object.entries(zt).forEach(([u,o])=>{Object.entries(W).forEach(([s,r])=>{n(u+s,o+r[1])}),n(`${u}\u3043`,`${o}yi`),n(`${u}\u3047`,`${o}e`)}),e.\u3063=de(e),Object.entries($t).forEach(([u,o])=>{n(u,o)}),Dt.forEach(u=>{n(`\u3093${u}`,`n'${t(u)[""]}`)}),Object.freeze(JSON.parse(JSON.stringify(e)))}function de(e){return Object.entries(e).reduce((t,[n,u])=>{if(n)t[n]=de(u);else{const o=u.charAt(0);t[n]=Object.keys(Ne).includes(o)?Ne[o]+u:u}return t},{})}const Oe=Q((e,t)=>{let n=Wt(e);return t&&(n=oe(n,t)),n},g);function j(e="",t={},n){const u=C(t);return n||(n=Oe(u.romanization,u.customRomajiMapping)),Yt(e,u,n).map(o=>{const[s,r,i]=o;return u.upcaseKatakana&&H(e.slice(s,r))?i.toUpperCase():i}).join("")}function Yt(e,t,n){n||(n=Oe(t.romanization,t.customRomajiMapping));const u=Object.assign({},{isDestinationRomaji:!0},t);return te(v(e,j,u),n,!t.IMEMode)}function M(e=""){return E(e)?!1:ot.some(([t,n])=>d(e,t,n))}function Vt(e="",t={}){const n=C(t);if(n.passRomaji)return v(e,j,n);if($(e,{passKanji:!0})){const u=v(e,j,n);return T(u.toLowerCase(),n)}return m(e)||M(e)?T(e.toLowerCase(),n):v(e,j,n)}function qt(e="",t={}){const n=C(t);if(n.passRomaji)return R(e);if($(e)||m(e)||M(e)){const u=T(e.toLowerCase(),n);return R(u)}return R(e)}function he(e=""){return E(e)?!1:q.some(([t,n])=>d(e,t,n))}const ge=e=>e===" ",Ce=e=>e==="\u3000",Se=e=>typeof e=="string"&&/[０-９]/.test(e),Te=e=>typeof e=="string"&&/[0-9]/.test(e),Z={EN:"en",JA:"ja",EN_NUM:"englishNumeral",JA_NUM:"japaneseNumeral",EN_PUNC:"englishPunctuation",JA_PUNC:"japanesePunctuation",KANJI:"kanji",HIRAGANA:"hiragana",KATAKANA:"katakana",SPACE:"space",OTHER:"other"};function pe(e,t=!1){const{EN:n,JA:u,EN_NUM:o,JA_NUM:s,EN_PUNC:r,JA_PUNC:i,KANJI:a,HIRAGANA:c,KATAKANA:l,SPACE:A,OTHER:O}=Z;if(t)switch(!0){case Se(e):return Z.OTHER;case Te(e):return O;case ge(e):return Z.EN;case M(e):return O;case Ce(e):return u;case he(e):return O;case w(e):return u;case B(e):return n;default:return O}else switch(!0){case Ce(e):return A;case ge(e):return A;case Se(e):return s;case Te(e):return o;case M(e):return r;case he(e):return i;case Ee(e):return a;case _(e):return c;case K(e):return l;case w(e):return u;case B(e):return n;default:return O}}function Y(e,{compact:t=!1,detailed:n=!1}={}){if(e==null||E(e))return[];const u=[...e];let o=u.shift(),s=pe(o,t);return o=n?{type:s,value:o}:o,u.reduce((i,a)=>{const c=pe(a,t),l=c===s;s=c;let A=a;return l&&(A=(n?i.pop().value:i.pop())+A),n?i.concat({type:c,value:A}):i.concat(A)},[o])}const Xt=(e,t)=>t&&!I(e[0]),Qt=(e,t)=>!t&&!I(e[e.length-1]),xt=(e,t)=>t&&![...t].some(z)||!t&&I(e);function en(e="",{leading:t=!1,matchKanji:n=""}={}){if(!h(e)||Xt(e,t)||Qt(e,t)||xt(e,n))return e;const u=n||e,o=new RegExp(t?`^${Y(u).shift()}`:`${Y(u).pop()}$`);return e.replace(o,"")}f.ROMANIZATIONS=L,f.TO_KANA_METHODS=U,f.VERSION=Ke,f.bind=vt,f.isHiragana=le,f.isJapanese=h,f.isKana=I,f.isKanji=z,f.isKatakana=H,f.isMixed=$,f.isRomaji=m,f.stripOkurigana=en,f.toHiragana=Vt,f.toKana=T,f.toKatakana=qt,f.toRomaji=j,f.tokenize=Y,f.unbind=Mt,Object.defineProperties(f,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=index.umd.js.map
