"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});function O(e){return e===null?"null":e!==Object(e)?typeof e:{}.toString.call(e).slice(8,-1).toLowerCase()}function l(e){return O(e)!=="string"?!0:!e.length}function N(e="",t,n){if(l(e))return!1;const u=e.charCodeAt(0);return t<=u&&u<=n}const Ke="5.0.2",w={HIRAGANA:"toHiragana",KATAKANA:"toKatakana"},J={HEPBURN:"hepburn"},je={useObsoleteKana:!1,passRomaji:!1,upcaseKatakana:!1,IMEMode:!1,convertLongVowelMark:!0,romanization:J.HEPBURN},_e=65,Re=90,ye=65345,Ie=65370,me=65313,ve=65338,B=12353,Me=12438,H=12449,Le=12540,Ue=19968,Fe=40879,be=12540,we=12539,ke=[65296,65305],Pe=[me,ve],De=[ye,Ie],Je=[65281,65295],Be=[65306,65311],He=[65339,65343],ze=[65371,65376],$e=[65504,65518],Ge=[12352,12447],We=[12448,12543],Ze=[65382,65439],Ye=[12539,12540],ie=[65377,65381],Ve=[12288,12351],xe=[19968,40959],qe=[13312,19903],Xe=[Ge,We,ie,Ze],ae=[Ve,ie,Ye,Je,Be,He,ze,$e],Qe=[...Xe,...ae,Pe,De,ke,xe,qe],et=[0,127],tt=[[256,257],[274,275],[298,299],[332,333],[362,363]],nt=[[8216,8217],[8220,8221]],ut=[et,...tt],rt=[[32,47],[58,63],[91,96],[123,126],...nt];function k(e=""){return Qe.some(([t,n])=>N(e,t,n))}function h(e="",t){const n=O(t)==="regexp";return l(e)?!1:[...e].every(u=>{const r=k(u);return n?r||t.test(u):r})}var Y=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function ot(e,t){return!!(e===t||Y(e)&&Y(t))}function st(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!ot(e[n],t[n]))return!1;return!0}function ce(e,t){t===void 0&&(t=st);var n=null;function u(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var s=e.apply(this,r);return n={lastResult:s,lastArgs:r,lastThis:this},s}return u.clear=function(){n=null},u}var V=Object.prototype.hasOwnProperty;function x(e,t,n){for(n of e.keys())if(d(n,t))return n}function d(e,t){var n,u,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((u=e.length)===t.length)for(;u--&&d(e[u],t[u]););return u===-1}if(n===Set){if(e.size!==t.size)return!1;for(u of e)if(r=u,r&&typeof r=="object"&&(r=x(t,r),!r)||!t.has(r))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(u of e)if(r=u[0],r&&typeof r=="object"&&(r=x(t,r),!r)||!d(u[1],t.get(r)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((u=e.byteLength)===t.byteLength)for(;u--&&e.getInt8(u)===t.getInt8(u););return u===-1}if(ArrayBuffer.isView(e)){if((u=e.byteLength)===t.byteLength)for(;u--&&e[u]===t[u];);return u===-1}if(!n||typeof e=="object"){u=0;for(n in e)if(V.call(e,n)&&++u&&!V.call(t,n)||!(n in t)||!d(e[n],t[n]))return!1;return Object.keys(t).length===u}}return e!==e&&t!==t}const T=(e={})=>Object.assign({},je,e);function fe(e,t,n){const u=t;function r(i,a){if(i[a]!==void 0)return Object.assign({"":i[""]+a},i[a])}function o(i,a){const c=i.charAt(0);return s(Object.assign({"":c},u[c]),i.slice(1),a,a+1)}function s(i,a,c,A){if(!a)return n||Object.keys(i).length===1?i[""]?[[c,A,i[""]]]:[]:[[c,A,null]];if(Object.keys(i).length===1)return[[c,A,i[""]]].concat(o(a,A));const f=r(i,a.charAt(0));return f===void 0?[[c,A,i[""]]].concat(o(a,A)):s(f,a.slice(1),c,A+1)}return o(e,0)}function z(e){return Object.entries(e).reduce((t,[n,u])=>{const r=O(u)==="string";return t[n]=r?{"":u}:z(u),t},{})}function Ae(e,t){return t.split("").reduce((n,u)=>(n[u]===void 0&&(n[u]={}),n[u]),e)}function le(e={}){const t={};return O(e)==="object"&&Object.entries(e).forEach(([n,u])=>{let r=t;n.split("").forEach(o=>{r[o]===void 0&&(r[o]={}),r=r[o]}),r[""]=u}),function(u){const r=JSON.parse(JSON.stringify(u));function o(s,i){return s===void 0||O(s)==="string"?i:Object.entries(i).reduce((a,[c,A])=>(a[c]=o(s[c],A),a),s)}return o(r,t)}}function Ee(e,t){return t?O(t)==="function"?t(e):le(t)(e):e}const it={a:"\u3042",i:"\u3044",u:"\u3046",e:"\u3048",o:"\u304A",k:{a:"\u304B",i:"\u304D",u:"\u304F",e:"\u3051",o:"\u3053"},s:{a:"\u3055",i:"\u3057",u:"\u3059",e:"\u305B",o:"\u305D"},t:{a:"\u305F",i:"\u3061",u:"\u3064",e:"\u3066",o:"\u3068"},n:{a:"\u306A",i:"\u306B",u:"\u306C",e:"\u306D",o:"\u306E"},h:{a:"\u306F",i:"\u3072",u:"\u3075",e:"\u3078",o:"\u307B"},m:{a:"\u307E",i:"\u307F",u:"\u3080",e:"\u3081",o:"\u3082"},y:{a:"\u3084",u:"\u3086",o:"\u3088"},r:{a:"\u3089",i:"\u308A",u:"\u308B",e:"\u308C",o:"\u308D"},w:{a:"\u308F",i:"\u3090",e:"\u3091",o:"\u3092"},g:{a:"\u304C",i:"\u304E",u:"\u3050",e:"\u3052",o:"\u3054"},z:{a:"\u3056",i:"\u3058",u:"\u305A",e:"\u305C",o:"\u305E"},d:{a:"\u3060",i:"\u3062",u:"\u3065",e:"\u3067",o:"\u3069"},b:{a:"\u3070",i:"\u3073",u:"\u3076",e:"\u3079",o:"\u307C"},p:{a:"\u3071",i:"\u3074",u:"\u3077",e:"\u307A",o:"\u307D"},v:{a:"\u3094\u3041",i:"\u3094\u3043",u:"\u3094",e:"\u3094\u3047",o:"\u3094\u3049"}},at={".":"\u3002",",":"\u3001",":":"\uFF1A","/":"\u30FB","!":"\uFF01","?":"\uFF1F","~":"\u301C","-":"\u30FC","\u2018":"\u300C","\u2019":"\u300D","\u201C":"\u300E","\u201D":"\u300F","[":"\uFF3B","]":"\uFF3D","(":"\uFF08",")":"\uFF09","{":"\uFF5B","}":"\uFF5D"},q={k:"\u304D",s:"\u3057",t:"\u3061",n:"\u306B",h:"\u3072",m:"\u307F",r:"\u308A",g:"\u304E",z:"\u3058",d:"\u3062",b:"\u3073",p:"\u3074",v:"\u3094",q:"\u304F",f:"\u3075"},Ne={ya:"\u3083",yi:"\u3043",yu:"\u3085",ye:"\u3047",yo:"\u3087"},Oe={a:"\u3041",i:"\u3043",u:"\u3045",e:"\u3047",o:"\u3049"},X={sh:"sy",ch:"ty",cy:"ty",chy:"ty",shy:"sy",j:"zy",jy:"zy",shi:"si",chi:"ti",tsu:"tu",ji:"zi",fu:"hu"},ct=Object.assign({tu:"\u3063",wa:"\u308E",ka:"\u30F5",ke:"\u30F6"},Oe,Ne),ft={yi:"\u3044",wu:"\u3046",ye:"\u3044\u3047",wi:"\u3046\u3043",we:"\u3046\u3047",kwa:"\u304F\u3041",whu:"\u3046",tha:"\u3066\u3083",thu:"\u3066\u3085",tho:"\u3066\u3087",dha:"\u3067\u3083",dhu:"\u3067\u3085",dho:"\u3067\u3087"},At={wh:"\u3046",kw:"\u304F",qw:"\u304F",q:"\u304F",gw:"\u3050",sw:"\u3059",ts:"\u3064",th:"\u3066",tw:"\u3068",dh:"\u3067",dw:"\u3069",fw:"\u3075",f:"\u3075"};function lt(){const e=z(it),t=r=>Ae(e,r);Object.entries(q).forEach(([r,o])=>{Object.entries(Ne).forEach(([s,i])=>{t(r+s)[""]=o+i})}),Object.entries(at).forEach(([r,o])=>{t(r)[""]=o}),Object.entries(At).forEach(([r,o])=>{Object.entries(Oe).forEach(([s,i])=>{const a=t(r+s);a[""]=o+i})}),["n","n'","xn"].forEach(r=>{t(r)[""]="\u3093"}),e.c=JSON.parse(JSON.stringify(e.k)),Object.entries(X).forEach(([r,o])=>{const s=r.slice(0,r.length-1),i=r.charAt(r.length-1),a=t(s);a[i]=JSON.parse(JSON.stringify(t(o)))});function n(r){return[...Object.entries(X),["c","k"]].reduce((o,[s,i])=>r.startsWith(i)?o.concat(r.replace(i,s)):o,[])}Object.entries(ct).forEach(([r,o])=>{const s=f=>f.charAt(f.length-1),i=f=>f.slice(0,f.length-1),a=`x${r}`,c=t(a);c[""]=o;const A=t(`l${i(r)}`);A[s(r)]=c,n(r).forEach(f=>{["l","x"].forEach(E=>{const Te=t(E+i(f));Te[s(f)]=t(E+r)})})}),Object.entries(ft).forEach(([r,o])=>{t(r)[""]=o});function u(r){return Object.entries(r).reduce((o,[s,i])=>(s?o[s]=u(i):o[s]=`\u3063${i}`,o),{})}return[...Object.keys(q),"c","y","w","j"].forEach(r=>{const o=e[r];o[r]=u(o)}),delete e.n.n,Object.freeze(JSON.parse(JSON.stringify(e)))}let M=null;function Et(){return M==null&&(M=lt()),M}const Nt=le({wi:"\u3090",we:"\u3091"});function Ot(e){const t=JSON.parse(JSON.stringify(e));return t.n.n={"":"\u3093"},t.n[" "]={"":"\u3093"},t}function dt(e=""){return l(e)?!1:N(e,_e,Re)}function K(e=""){return l(e)?!1:e.charCodeAt(0)===be}function de(e=""){return l(e)?!1:e.charCodeAt(0)===we}function I(e=""){return l(e)?!1:K(e)?!0:N(e,B,Me)}function j(e=""){const t=[];return e.split("").forEach(n=>{if(K(n)||de(n))t.push(n);else if(I(n)){const u=n.charCodeAt(0)+(H-B),r=String.fromCharCode(u);t.push(r)}else t.push(n)}),t.join("")}const $=ce((e,t,n)=>{let u=Et();return u=e?Ot(u):u,u=t?Nt(u):u,n&&(u=Ee(u,n)),u},d);function C(e="",t={},n){let u;return n?u=t:(u=T(t),n=$(u.IMEMode,u.useObsoleteKana,u.customKanaMapping)),ht(e,u,n).map(r=>{const[o,s,i]=r;if(i===null)return e.slice(o);const a=u.IMEMode===w.HIRAGANA,c=u.IMEMode===w.KATAKANA||[...e.slice(o,s)].every(dt);return a||!c?i:j(i)}).join("")}function ht(e="",t={},n){const{IMEMode:u,useObsoleteKana:r,customKanaMapping:o}=t;return n||(n=$(u,r,o)),fe(e.toLowerCase(),n,!u)}let S=[];function gt(e){let t;const n=Object.assign({},T(e),{IMEMode:e.IMEMode||!0}),u=$(n.IMEMode,n.useObsoleteKana,n.customKanaMapping),r=[...Object.keys(u),...Object.keys(u).map(o=>o.toUpperCase())];return function({target:s}){s.value!==t&&s.dataset.ignoreComposition!=="true"&&Ct(s,n,u,r)}}function Ct(e,t,n,u,r){const[o,s,i]=Kt(e.value,e.selectionEnd,u),a=C(s,t,n);if(s!==a){const A=o.length+a.length,f=o+a+i;e.value=f,i.length?setTimeout(()=>e.setSelectionRange(A,A),1):e.setSelectionRange(A,A)}else e.value}function L({type:e,target:t,data:n}){/Mac/.test(window.navigator&&window.navigator.platform)&&(e==="compositionupdate"&&h(n)&&(t.dataset.ignoreComposition="true"),e==="compositionend"&&(t.dataset.ignoreComposition="false"))}function St(e,t,n){S=S.concat({id:e,inputHandler:t,compositionHandler:n})}function pt({id:e}){S=S.filter(({id:t})=>t!==e)}function Tt(e){return e&&S.find(({id:t})=>t===e.getAttribute("data-wanakana-id"))}function Kt(e="",t=0,n=[]){let u,r,o;return t===0&&n.includes(e[0])?[u,r,o]=jt(e,n):t>0?[u,r,o]=_t(e,t):([u,r]=R(e,s=>!n.includes(s)),[r,o]=R(r,s=>!h(s))),[u,r,o]}function jt(e,t){return["",...R(e,n=>t.includes(n)||!h(n,/[0-9]/))]}function _t(e="",t=0){const[n,u]=R([...e.slice(0,t)].reverse(),r=>!h(r));return[u.reverse().join(""),n.split("").reverse().join(""),e.slice(t)]}function R(e={},t=n=>!!n){const n=[],{length:u}=e;let r=0;for(;r<u&&t(e[r],r);)n.push(e[r]),r+=1;return[n.join(""),e.slice(r)]}const Rt=({target:{value:e,selectionStart:t,selectionEnd:n}})=>console.log("input:",{value:e,selectionStart:t,selectionEnd:n}),yt=()=>console.log("compositionstart"),It=({target:{value:e,selectionStart:t,selectionEnd:n},data:u})=>console.log("compositionupdate",{data:u,value:e,selectionStart:t,selectionEnd:n}),mt=()=>console.log("compositionend"),he={input:Rt,compositionstart:yt,compositionupdate:It,compositionend:mt},vt=e=>{Object.entries(he).forEach(([t,n])=>e.addEventListener(t,n))},Mt=e=>{Object.entries(he).forEach(([t,n])=>e.removeEventListener(t,n))},Lt=["TEXTAREA","INPUT"];let Q=0;const Ut=()=>(Q+=1,`${Date.now()}${Q}`);function Ft(e,t={},n=!1){if(!Lt.includes(e.nodeName))throw new Error(`Element provided to Wanakana bind() was not a valid input or textarea element.
 Received: (${JSON.stringify(e)})`);const u=gt(t),r=Ut();e.setAttribute("data-wanakana-id",r),e.setAttribute("lang","ja"),e.setAttribute("autoCapitalize","none"),e.setAttribute("autoCorrect","off"),e.setAttribute("autoComplete","off"),e.setAttribute("spellCheck","false"),e.addEventListener("input",u),e.addEventListener("compositionupdate",L),e.addEventListener("compositionend",L),St(r,u,L),n===!0&&vt(e)}function bt(e,t=!1){const n=Tt(e);if(n==null)throw new Error(`Element provided to Wanakana unbind() had no listener registered.
 Received: ${JSON.stringify(e)}`);const{inputHandler:u,compositionHandler:r}=n;e.removeAttribute("data-wanakana-id"),e.removeAttribute("data-ignore-composition"),e.removeEventListener("input",u),e.removeEventListener("compositionstart",r),e.removeEventListener("compositionupdate",r),e.removeEventListener("compositionend",r),pt(n),t===!0&&Mt(e)}function P(e=""){return l(e)?!1:ut.some(([t,n])=>N(e,t,n))}function m(e="",t){const n=O(t)==="regexp";return l(e)?!1:[...e].every(u=>{const r=P(u);return n?r||t.test(u):r})}function p(e=""){return N(e,H,Le)}function wt(e=""){return l(e)?!1:I(e)||p(e)}function v(e=""){return l(e)?!1:[...e].every(wt)}function ge(e=""){return l(e)?!1:[...e].every(I)}function G(e=""){return l(e)?!1:[...e].every(p)}function Ce(e=""){return N(e,Ue,Fe)}function W(e=""){return l(e)?!1:[...e].every(Ce)}function Z(e="",t={passKanji:!0}){const n=[...e];let u=!1;return t.passKanji||(u=n.some(W)),(n.some(ge)||n.some(G))&&n.some(m)&&!u}const kt=(e,t)=>K(e)&&t<1,Pt=(e,t)=>K(e)&&t>0,Dt=e=>["\u30F6","\u30F5"].includes(e),Jt={a:"\u3042",i:"\u3044",u:"\u3046",e:"\u3048",o:"\u3046"};function _(e="",t,{isDestinationRomaji:n,convertLongVowelMark:u}={}){let r="";return e.split("").reduce((o,s,i)=>{if(de(s)||kt(s,i)||Dt(s))return o.concat(s);if(u&&r&&Pt(s,i)){const a=t(r).slice(-1);return p(e[i-1])&&a==="o"&&n?o.concat("\u304A"):o.concat(Jt[a])}if(!K(s)&&p(s)){const a=s.charCodeAt(0)+(B-H),c=String.fromCharCode(a);return r=c,o.concat(c)}return r="",o.concat(s)},[]).join("")}let U;const Bt={\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304A:"o",\u304B:"ka",\u304D:"ki",\u304F:"ku",\u3051:"ke",\u3053:"ko",\u3055:"sa",\u3057:"shi",\u3059:"su",\u305B:"se",\u305D:"so",\u305F:"ta",\u3061:"chi",\u3064:"tsu",\u3066:"te",\u3068:"to",\u306A:"na",\u306B:"ni",\u306C:"nu",\u306D:"ne",\u306E:"no",\u306F:"ha",\u3072:"hi",\u3075:"fu",\u3078:"he",\u307B:"ho",\u307E:"ma",\u307F:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u3089:"ra",\u308A:"ri",\u308B:"ru",\u308C:"re",\u308D:"ro",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u308F:"wa",\u3090:"wi",\u3091:"we",\u3092:"wo",\u3093:"n",\u304C:"ga",\u304E:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u3056:"za",\u3058:"ji",\u305A:"zu",\u305C:"ze",\u305E:"zo",\u3060:"da",\u3062:"ji",\u3065:"zu",\u3067:"de",\u3069:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307C:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307A:"pe",\u307D:"po",\u3094\u3041:"va",\u3094\u3043:"vi",\u3094:"vu",\u3094\u3047:"ve",\u3094\u3049:"vo"},Ht={"\u3002":".","\u3001":",","\uFF1A":":","\u30FB":"/","\uFF01":"!","\uFF1F":"?","\u301C":"~",\u30FC:"-","\u300C":"\u2018","\u300D":"\u2019","\u300E":"\u201C","\u300F":"\u201D","\uFF3B":"[","\uFF3D":"]","\uFF08":"(","\uFF09":")","\uFF5B":"{","\uFF5D":"}","\u3000":" "},zt=["\u3042","\u3044","\u3046","\u3048","\u304A","\u3084","\u3086","\u3088"],F={\u3083:"ya",\u3085:"yu",\u3087:"yo"},$t={\u3043:"yi",\u3047:"ye"},Gt={\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o"},Wt=["\u304D","\u306B","\u3072","\u307F","\u308A","\u304E","\u3073","\u3074","\u3094","\u304F","\u3075"],Zt={\u3057:"sh",\u3061:"ch",\u3058:"j",\u3062:"j"},Yt={\u3063:"",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o"},ee={b:"b",c:"t",d:"d",f:"f",g:"g",h:"h",j:"j",k:"k",m:"m",p:"p",q:"q",r:"r",s:"s",t:"t",v:"v",w:"w",x:"x",z:"z"};function Vt(){return U==null&&(U=qt()),U}function xt(e){switch(e){case J.HEPBURN:return Vt();default:return{}}}function qt(){const e=z(Bt),t=u=>Ae(e,u),n=(u,r)=>{t(u)[""]=r};return Object.entries(Ht).forEach(([u,r])=>{t(u)[""]=r}),[...Object.entries(F),...Object.entries(Gt)].forEach(([u,r])=>{n(u,r)}),Wt.forEach(u=>{const r=t(u)[""][0];Object.entries(F).forEach(([o,s])=>{n(u+o,r+s)}),Object.entries($t).forEach(([o,s])=>{n(u+o,r+s)})}),Object.entries(Zt).forEach(([u,r])=>{Object.entries(F).forEach(([o,s])=>{n(u+o,r+s[1])}),n(`${u}\u3043`,`${r}yi`),n(`${u}\u3047`,`${r}e`)}),e.\u3063=Se(e),Object.entries(Yt).forEach(([u,r])=>{n(u,r)}),zt.forEach(u=>{n(`\u3093${u}`,`n'${t(u)[""]}`)}),Object.freeze(JSON.parse(JSON.stringify(e)))}function Se(e){return Object.entries(e).reduce((t,[n,u])=>{if(n)t[n]=Se(u);else{const r=u.charAt(0);t[n]=Object.keys(ee).includes(r)?ee[r]+u:u}return t},{})}const pe=ce((e,t)=>{let n=xt(e);return t&&(n=Ee(n,t)),n},d);function g(e="",t={},n){const u=T(t);return n||(n=pe(u.romanization,u.customRomajiMapping)),Xt(e,u,n).map(r=>{const[o,s,i]=r;return u.upcaseKatakana&&G(e.slice(o,s))?i.toUpperCase():i}).join("")}function Xt(e,t,n){n||(n=pe(t.romanization,t.customRomajiMapping));const u=Object.assign({},{isDestinationRomaji:!0},t);return fe(_(e,g,u),n,!t.IMEMode)}function y(e=""){return l(e)?!1:rt.some(([t,n])=>N(e,t,n))}function Qt(e="",t={}){const n=T(t);if(n.passRomaji)return _(e,g,n);if(Z(e,{passKanji:!0})){const u=_(e,g,n);return C(u.toLowerCase(),n)}return m(e)||y(e)?C(e.toLowerCase(),n):_(e,g,n)}function en(e="",t={}){const n=T(t);if(n.passRomaji)return j(e);if(Z(e)||m(e)||y(e)){const u=C(e.toLowerCase(),n);return j(u)}return j(e)}function te(e=""){return l(e)?!1:ae.some(([t,n])=>N(e,t,n))}const ne=e=>e===" ",ue=e=>e==="\u3000",re=e=>typeof e=="string"&&/[０-９]/.test(e),oe=e=>typeof e=="string"&&/[0-9]/.test(e),b={EN:"en",JA:"ja",EN_NUM:"englishNumeral",JA_NUM:"japaneseNumeral",EN_PUNC:"englishPunctuation",JA_PUNC:"japanesePunctuation",KANJI:"kanji",HIRAGANA:"hiragana",KATAKANA:"katakana",SPACE:"space",OTHER:"other"};function se(e,t=!1){const{EN:n,JA:u,EN_NUM:r,JA_NUM:o,EN_PUNC:s,JA_PUNC:i,KANJI:a,HIRAGANA:c,KATAKANA:A,SPACE:f,OTHER:E}=b;if(t)switch(!0){case re(e):return b.OTHER;case oe(e):return E;case ne(e):return b.EN;case y(e):return E;case ue(e):return u;case te(e):return E;case k(e):return u;case P(e):return n;default:return E}else switch(!0){case ue(e):return f;case ne(e):return f;case re(e):return o;case oe(e):return r;case y(e):return s;case te(e):return i;case Ce(e):return a;case I(e):return c;case p(e):return A;case k(e):return u;case P(e):return n;default:return E}}function D(e,{compact:t=!1,detailed:n=!1}={}){if(e==null||l(e))return[];const u=[...e];let r=u.shift(),o=se(r,t);return r=n?{type:o,value:r}:r,u.reduce((i,a)=>{const c=se(a,t),A=c===o;o=c;let f=a;return A&&(f=(n?i.pop().value:i.pop())+f),n?i.concat({type:c,value:f}):i.concat(f)},[r])}const tn=(e,t)=>t&&!v(e[0]),nn=(e,t)=>!t&&!v(e[e.length-1]),un=(e,t)=>t&&![...t].some(W)||!t&&v(e);function rn(e="",{leading:t=!1,matchKanji:n=""}={}){if(!h(e)||tn(e,t)||nn(e,t)||un(e,n))return e;const u=n||e,r=new RegExp(t?`^${D(u).shift()}`:`${D(u).pop()}$`);return e.replace(r,"")}exports.ROMANIZATIONS=J;exports.TO_KANA_METHODS=w;exports.VERSION=Ke;exports.bind=Ft;exports.isHiragana=ge;exports.isJapanese=h;exports.isKana=v;exports.isKanji=W;exports.isKatakana=G;exports.isMixed=Z;exports.isRomaji=m;exports.stripOkurigana=rn;exports.toHiragana=Qt;exports.toKana=C;exports.toKatakana=en;exports.toRomaji=g;exports.tokenize=D;exports.unbind=bt;
//# sourceMappingURL=index.js.map
